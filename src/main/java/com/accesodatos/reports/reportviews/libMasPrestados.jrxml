<!-- Created with Jaspersoft Studio version 7.0.1.final using JasperReports Library version 7.0.1-573496633c2b4074e32f433154b543003f7d2498  -->
<jasperReport name="Blank_A4" language="java" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="53ed343d-8544-4c01-889d-d1dfd4daa2a3">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="DataAdapter.jrdax"/>
	<query language="SQL"><![CDATA[SELECT 
    libro.isbn, 
    libro.titulo, 
    libro.autor, 
    COUNT(CASE WHEN ejemplar.estado = 'prestado' THEN 1 END) AS cantidad_prestamos
FROM libro 
JOIN ejemplar ON libro.isbn = ejemplar.isbn
GROUP BY libro.isbn, libro.titulo, libro.autor
ORDER BY cantidad_prestamos DESC
]]></query>
	<field name="isbn" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="isbn"/>
		<property name="com.jaspersoft.studio.field.label" value="isbn"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="libro"/>
	</field>
	<field name="titulo" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="titulo"/>
		<property name="com.jaspersoft.studio.field.label" value="titulo"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="libro"/>
	</field>
	<field name="autor" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="autor"/>
		<property name="com.jaspersoft.studio.field.label" value="autor"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="libro"/>
	</field>
	<field name="cantidad_prestamos" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="cantidad_prestamos"/>
		<property name="com.jaspersoft.studio.field.label" value="cantidad_prestamos"/>
	</field>
	<background splitType="Stretch"/>
	<title height="72" splitType="Stretch">
		<element kind="staticText" uuid="bbd9740e-b9b7-4a14-b966-705af640557c" mode="Opaque" x="0" y="0" width="555" height="72" forecolor="#030303" backcolor="#C74E76" markup="styled" fontName="Rubik" fontSize="22.0" bold="true" italic="false" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[BIBLIOTECA ARRULLO]]></text>
		</element>
	</title>
	<pageHeader height="54" splitType="Stretch">
		<element kind="staticText" uuid="c859fab4-bb78-4dc8-be2b-6c4ff704d4c8" x="0" y="0" width="555" height="54" forecolor="#A89E9E" markup="styled" fontName="Calibri" fontSize="16.0" bold="false" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[LIBROS MÁS PRESTADOS ACTUALMENTE]]></text>
		</element>
		<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.HorizontalRowLayout"/>
	</pageHeader>
	<columnHeader height="40" splitType="Stretch">
		<element kind="staticText" uuid="a9282dc2-de82-4ab2-8e46-9f72ee2d6dea" x="0" y="0" width="100" height="30" fontSize="19.0" bold="true" italic="true" vTextAlign="Bottom">
			<text><![CDATA[ISBN]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="a79258d1-bed5-4b27-b584-3f1780eadefc"/>
			<box>
				<topPen lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="staticText" uuid="8eeb9abb-a28a-4e81-bcc4-eb033f5615d0" x="141" y="0" width="100" height="30" fontSize="19.0" bold="true" italic="true" vTextAlign="Bottom">
			<text><![CDATA[Titulo]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="b16e48ee-2a50-41da-be96-685584497c75"/>
			<box>
				<topPen lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="staticText" uuid="98938dc9-5f3c-4421-8bd7-4984a8f634b6" x="279" y="0" width="100" height="30" fontSize="19.0" bold="true" italic="true" vTextAlign="Bottom">
			<text><![CDATA[Autor]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7092360d-551f-4fa5-ba69-9e283298db2a"/>
			<box>
				<topPen lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="staticText" uuid="62dd58c5-41af-4e4d-a5f8-859b30f298ff" x="417" y="0" width="115" height="30" fontSize="18.0" bold="true" italic="true" vTextAlign="Bottom">
			<text><![CDATA[Prestamos]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e77c2be3-4661-4bf5-a17f-9bc79d6b91cc"/>
		</element>
	</columnHeader>
	<detail>
		<band height="41" splitType="Stretch">
			<element kind="frame" uuid="0140b346-0c5b-4ee7-80ff-6a8b6f294ef7" x="0" y="0" width="555" height="41" style="Row">
				<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.HorizontalRowLayout"/>
				<element kind="textField" uuid="75a90ab5-c6c7-4464-bd46-e788d52ebe9c" x="0" y="0" width="141" height="41" fontName="Source Sans Pro" fontSize="16.0" bold="false" vTextAlign="Bottom">
					<expression><![CDATA[$F{isbn}]]></expression>
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="a79258d1-bed5-4b27-b584-3f1780eadefc"/>
					<box>
						<pen lineWidth="0.5"/>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
				</element>
				<element kind="textField" uuid="8f9d1874-9053-4c05-b9c1-9d37db898aba" x="141" y="0" width="138" height="41" fontName="Source Sans Pro" fontSize="16.0" vTextAlign="Bottom">
					<expression><![CDATA[$F{titulo}]]></expression>
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="b16e48ee-2a50-41da-be96-685584497c75"/>
					<box>
						<pen lineWidth="0.5"/>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
				</element>
				<element kind="textField" uuid="21b07de6-f11e-44e8-9433-622c52f3c55d" x="279" y="0" width="138" height="41" fontName="Source Sans Pro" fontSize="16.0" vTextAlign="Bottom">
					<expression><![CDATA[$F{autor}]]></expression>
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7092360d-551f-4fa5-ba69-9e283298db2a"/>
					<box>
						<pen lineWidth="0.5"/>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
				</element>
				<element kind="textField" uuid="7b73d81d-30e8-4a55-b363-51ebf7fbac58" x="417" y="0" width="138" height="41" fontName="Source Sans Pro" fontSize="16.0" vTextAlign="Bottom">
					<expression><![CDATA[$F{cantidad_prestamos}]]></expression>
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e77c2be3-4661-4bf5-a17f-9bc79d6b91cc"/>
				</element>
				<box style="Row">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
		</band>
	</detail>
	<pageFooter height="36" splitType="Stretch">
		<element kind="frame" uuid="8075d1f1-c503-4d05-8f91-5ce5fb4cfb0c" mode="Opaque" x="0" y="3" width="555" height="30" forecolor="#D0B48E" backcolor="#C74E76">
			<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.FreeLayout"/>
			<element kind="textField" uuid="aec22ebd-db14-4116-a341-5b7c9c3d0cca" x="350" y="10" width="195" height="20" fontSize="13.0" hTextAlign="Right" vTextAlign="Top">
				<expression><![CDATA["Pagina " + $V{PAGE_NUMBER}]]></expression>
			</element>
		</element>
	</pageFooter>
	<summary height="42" splitType="Stretch"/>
</jasperReport>
